<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head profile="http://selenium-ide.openqa.org/profiles/test-case">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="selenium.base" href="https://selenium.test.mattermost.com/" />
<title>DM</title>
</head>
<body>
<table cellpadding="1" cellspacing="1" border="1">
<thead>
<tr><td rowspan="1" colspan="3">DM</td></tr>
</thead><tbody>
<!--LOG IN test4-->
<tr>
	<td>openAndWait</td>
	<td>/login</td>
	<td></td>
</tr>
<!--DisableAnimations-->
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.btn.btn-primary</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>name=loginId</td>
	<td>test4@test.com</td>
</tr>
<tr>
	<td>type</td>
	<td>name=password</td>
	<td>passwd</td>
</tr>
<tr>
	<td>click</td>
	<td>id=loginButton</td>
	<td></td>
</tr>
<tr>
	<td>pause</td>
	<td>3000</td>
	<td></td>
</tr>
<!--Sleep-->
<!--Sleep-->
<!--Sleep-->
<tr>
	<td>waitForText</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>Town Square</td>
</tr>
<!--Create public channel to post in-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=createPublicChannel</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=createPublicChannel</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=newChannelName</td>
	<td></td>
</tr>
<!--Store timestamp to append to channel name (to make it unique)-->
<tr>
	<td>store</td>
	<td>javascript{(new Date().getFullYear()+&quot;&quot;+(new Date().getMonth()+1)+&quot;&quot;+new Date().getDate())+&quot;-&quot;+(new Date().getHours()+&quot;&quot; + new Date().getMinutes() + &quot;&quot; + new Date().getSeconds())}</td>
	<td>datetime</td>
</tr>
<tr>
	<td>type</td>
	<td>id=newChannelName</td>
	<td></td>
</tr>
<!--Create new test channel appending datetime to the name-->
<tr>
	<td>type</td>
	<td>id=newChannelName</td>
	<td>DM-${datetime}</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=form.form-horizontal &gt; div.modal-footer &gt; button.btn.btn-primary</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=form.form-horizontal &gt; div.modal-footer &gt; button.btn.btn-primary</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=strong.heading</td>
	<td>DM-${datetime}</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<!--Post a message-->
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>Here's where you click the popover${KEY_ENTER}</td>
</tr>
<tr>
	<td>waitForValue</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<!--LOG OUT test4-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=#logout &gt; button.style--none</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=#logout &gt; button.style--none</td>
	<td></td>
</tr>
<!--LOG IN test6-->
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.btn.btn-primary</td>
	<td></td>
</tr>
<tr>
	<td>pause</td>
	<td>3000</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>name=loginId</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>name=loginId</td>
	<td>test6@test.com</td>
</tr>
<tr>
	<td>type</td>
	<td>name=password</td>
	<td>passwd</td>
</tr>
<tr>
	<td>click</td>
	<td>id=loginButton</td>
	<td></td>
</tr>
<tr>
	<td>pause</td>
	<td>3000</td>
	<td></td>
</tr>
<!--Sleep-->
<!--Sleep-->
<!--Sleep-->
<!--Join channel test4 just created-->
<tr>
	<td>rollup</td>
	<td>switchTeam</td>
	<td>TeamName=ui-automation</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=h1#headerTeamName.team__name</td>
	<td>UI Automation</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarPublicChannelsMore</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarPublicChannelsMore</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=searchChannelsTextbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=searchChannelsTextbox</td>
	<td>DM</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=button.style--none.more-modal__name</td>
	<td>DM-${datetime}</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.more-modal__actions &gt; button.btn.btn-primary</td>
	<td>Join</td>
</tr>
<tr>
	<td>click</td>
	<td>css=div.more-modal__actions &gt; button.btn.btn-primary</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>DM-${datetime}</td>
</tr>
<!--Click test6 popover, click Send Message-->
<tr>
	<td>waitForElementPresent</td>
	<td>css=div.col.col__reply</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>${KEY_SHIFT}${KEY_UP}</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=reply_textbox</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.sidebar--right__expand</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=button.sidebar--right__expand</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.user-popover.style--none</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=button.user-popover.style--none</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.popover__row.first</td>
	<td>Send Message</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=Send Message</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>link=Send Message</td>
	<td></td>
</tr>
<!--Close RHS and verify DM channel is opened-->
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.sidebar--right__close</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=button.sidebar--right__close</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>test4</td>
</tr>
<!--Switch channels, then switch back to DM channel-->
<tr>
	<td>waitForElementPresent</td>
	<td>link=Off-Topic</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>link=Off-Topic</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>Off-Topic</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=test4×</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>link=test4×</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>test4</td>
</tr>
<!--Send DM-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>How about a message of salutations?${KEY_ENTER}</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<!--Post message for other user to click profile picture and open DM channel-->
<tr>
	<td>waitForElementPresent</td>
	<td>link=DM-${datetime}</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>link=DM-${datetime}</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>DM-${datetime}</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>Check-check-1-2-1-2${KEY_ENTER}</td>
</tr>
<!--LOG OUT test6-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=#logout &gt; button.style--none</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=#logout &gt; button.style--none</td>
	<td></td>
</tr>
<!--LOG IN test4-->
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.btn.btn-primary</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=loginId</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>name=loginId</td>
	<td>test4@test.com</td>
</tr>
<tr>
	<td>type</td>
	<td>name=password</td>
	<td>passwd</td>
</tr>
<tr>
	<td>click</td>
	<td>id=loginButton</td>
	<td></td>
</tr>
<tr>
	<td>pause</td>
	<td>3000</td>
	<td></td>
</tr>
<!--Sleep-->
<!--Sleep-->
<!--Sleep-->
<tr>
	<td>waitForElementPresent</td>
	<td>link=DM-${datetime}</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>link=DM-${datetime}</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>DM-${datetime}</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=test61</td>
	<td></td>
</tr>
<!--Delete test4's message to avoid collision with test6's popover-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=searchBox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=searchBox</td>
	<td>popover${KEY_ENTER}</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=span.sidebar--right__title</td>
	<td>Search Results</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=span.search-highlight</td>
	<td>popover</td>
</tr>
<!--*** Needs updating; manually open post menu and click Delete-->
<tr>
	<td>rollup</td>
	<td>openDotMenuForLastPost</td>
	<td></td>
</tr>
<tr>
	<td>rollup</td>
	<td>dotMenuItemVerifyAndSelect</td>
	<td>Item=Delete</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.btn.btn-danger</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=button.btn.btn-danger</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>//h4/span[text() = &quot;No results found. Try again?&quot;]</td>
	<td></td>
</tr>
<tr>
	<td>refreshAndWait</td>
	<td></td>
	<td></td>
</tr>
<!--Click popover on other user's post, click Send Message to switch to open DM-->
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.user-popover.style--none</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=button.user-popover.style--none</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=h3.popover-title</td>
	<td>@test6</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=test6@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=Send Message</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>link=Send Message</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>test6</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=p:contains('How about a message of salutations?')</td>
	<td></td>
</tr>
<!--Open DM via URL constructed with username-->
<tr>
	<td>waitForElementPresent</td>
	<td>link=Off-Topic</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>link=Off-Topic</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>Off-Topic</td>
</tr>
<tr>
	<td>open</td>
	<td>https://selenium.test.mattermost.com/ui-automation/messages/@test6</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>test6</td>
</tr>
<!--Open DM via URL constructed with email-->
<tr>
	<td>waitForElementPresent</td>
	<td>link=Off-Topic</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>link=Off-Topic</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>Off-Topic</td>
</tr>
<tr>
	<td>open</td>
	<td>https://selenium.test.mattermost.com/ui-automation/messages/test6@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>test6</td>
</tr>
<!--Verify misconstructed or invalid URL redirects to Town Square-->
<tr>
	<td>waitForElementPresent</td>
	<td>link=Off-Topic</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>link=Off-Topic</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>Off-Topic</td>
</tr>
<tr>
	<td>open</td>
	<td>https://selenium.test.mattermost.com/ui-automation/messages/notauser</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>Town Square</td>
</tr>
<!--Open DM user list from `+`, filter on invalid user, close, reopens unfiltered-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=addDirectChannel</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=addDirectChannel</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>//div[@id=&quot;selectItems&quot;]//*/input</td>
	<td>hellotherenobody</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=p.primary-message &gt; span</td>
	<td>No items found</td>
</tr>
<tr>
	<td>refreshAndWait</td>
	<td></td>
	<td></td>
</tr>
<tr>
	<td>waitForElementNotPresent</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<!--Open DM from `+`, filtered list-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=addDirectChannel</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=addDirectChannel</td>
	<td></td>
</tr>
<tr>
	<td>waitForNotText</td>
	<td>css=p.primary-message &gt; span</td>
	<td>No items found</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>//div[@id=&quot;selectItems&quot;]//*/input</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>//div[@id=&quot;selectItems&quot;]//*/input</td>
	<td>test3</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.more-modal__name</td>
	<td>@test3</td>
</tr>
<tr>
	<td>click</td>
	<td>css=div.more-modal__name</td>
	<td>@test3</td>
</tr>
<tr>
	<td>waitForNotText</td>
	<td>css=div.more-modal__name</td>
	<td>@test3</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=saveItems</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=saveItems</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>test3</td>
</tr>
<!--DM channel with post in it displays properly after refresh-->
<tr>
	<td>waitForElementPresent</td>
	<td>link=test6×</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>link=test6×</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>test6</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=p:contains('How about a message of salutations?')</td>
	<td></td>
</tr>
<tr>
	<td>refreshAndWait</td>
	<td></td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>test6</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=p:contains('How about a message of salutations?')</td>
	<td></td>
</tr>
<!--DM LHS displays properly after refresh-->
<tr>
	<td>waitForText</td>
	<td>link=test3×</td>
	<td>test3×</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>link=test6×</td>
	<td>test6×</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=li.active &gt; a.sidebar-item.has-close &gt; span.sidebar-item__name</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=a.sidebar-item.has-close &gt; span.sidebar-item__name</td>
	<td></td>
</tr>
<tr>
	<td>refreshAndWait</td>
	<td></td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>link=test3×</td>
	<td>test3×</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>link=test6×</td>
	<td>test6×</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=li.active &gt; a.sidebar-item.has-close &gt; span.sidebar-item__name</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=a.sidebar-item.has-close &gt; span.sidebar-item__name</td>
	<td></td>
</tr>
<!--Close DM channel you're viewing-->
<tr>
	<td>waitForElementPresent</td>
	<td>css=li.active &gt; a.sidebar-item.has-close &gt; span.btn-close</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=li.active &gt; a.sidebar-item.has-close &gt; span.btn-close</td>
	<td></td>
</tr>
<tr>
	<td>waitForNotText</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>test6</td>
</tr>
<!--Open DM using slash command, verify URL on one team-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>/msg @test7 hello there!${KEY_ENTER}</td>
</tr>
<tr>
	<td>waitForLocation</td>
	<td>https://selenium.test.mattermost.com/ui-automation/messages/@test7</td>
	<td></td>
</tr>
<!--Switch teams, verify DM URL on other team-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=Join Another Team</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>link=Join Another Team</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=span.signup-team-dir__name</td>
	<td>UI Automation 2</td>
</tr>
<tr>
	<td>click</td>
	<td>css=span.signup-team-dir__name</td>
	<td>UI Automation 2</td>
</tr>
<tr>
	<td>waitForLocation</td>
	<td>https://selenium.test.mattermost.com/ui-automation2/channels/town-square</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=test7×</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>link=test7×</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>test7</td>
</tr>
<tr>
	<td>waitForLocation</td>
	<td>https://selenium.test.mattermost.com/ui-automation2/messages/@test7</td>
	<td></td>
</tr>
<!--Leave team (this user joined the team earlier just for the above test)-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=#leaveTeam &gt; button.style--none.</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=#leaveTeam &gt; button.style--none.</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.btn.btn-danger</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=button.btn.btn-danger</td>
	<td></td>
</tr>
<!--Log out-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=#logout &gt; button.style--none</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=#logout &gt; button.style--none</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=loginId</td>
	<td></td>
</tr>
<!--Open DM URL, log in, verify DM opens-->
<tr>
	<td>open</td>
	<td>https://selenium.test.mattermost.com/ui-automation/messages/@test7</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=loginId</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=loginId</td>
	<td>test4</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=loginPassword</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=loginPassword</td>
	<td>passwd</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=loginButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=loginButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>test7</td>
</tr>
<!--Change URL to another user, with capital letter, opens DM-->
<tr>
	<td>open</td>
	<td>https://selenium.test.mattermost.com/ui-automation/messages/@TEst10</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>test10</td>
</tr>
<!--Change URL to invalid user, opens Town Square-->
<tr>
	<td>open</td>
	<td>https://selenium.test.mattermost.com/ui-automation/messages/@lalalainvaliduser</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>Town Square</td>
</tr>
<!--Cleanup: Leave channel-->
<tr>
	<td>waitForElementPresent</td>
	<td>link=DM-${datetime}</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>link=DM-${datetime}</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>DM-${datetime}</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>/leave${KEY_ENTER}</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>Town Square</td>
</tr>
<!--LOG OUT test4-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=#logout &gt; button.style--none</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=#logout &gt; button.style--none</td>
	<td></td>
</tr>
</tbody></table>
</body>
</html>
