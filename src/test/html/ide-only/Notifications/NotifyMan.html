<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head profile="http://selenium-ide.openqa.org/profiles/test-case">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="selenium.base" href="https://selenium.test.mattermost.com/" />
<title>NotifMan</title>
</head>
<body>
<table cellpadding="1" cellspacing="1" border="1">
<thead>
<tr><td rowspan="1" colspan="3">NotifMan</td></tr>
</thead><tbody>
<!--*** Open different / private browser and log in test7, make sure status is online-->
<!--*** Watch LHS of that browser to verify mentions, unreads, status, etc.-->
<!--LOG IN test6-->
<tr>
	<td>openAndWait</td>
	<td>/login</td>
	<td></td>
</tr>
<!--DisableAnimations-->
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.btn.btn-primary</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>name=loginId</td>
	<td>test6@test.com</td>
</tr>
<tr>
	<td>type</td>
	<td>name=password</td>
	<td>passwd</td>
</tr>
<tr>
	<td>click</td>
	<td>id=loginButton</td>
	<td></td>
</tr>
<tr>
	<td>pause</td>
	<td>3000</td>
	<td></td>
</tr>
<!--Sleep-->
<!--Sleep-->
<!--Sleep-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<!--Create test channel-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=createPublicChannel</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=createPublicChannel</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=newChannelName</td>
	<td></td>
</tr>
<!--Store timestamp to append to channel name (to make it unique)-->
<tr>
	<td>store</td>
	<td>javascript{(new Date().getFullYear()+&quot;&quot;+(new Date().getMonth()+1)+&quot;&quot;+new Date().getDate())+&quot;-&quot;+(new Date().getHours()+&quot;&quot; + new Date().getMinutes() + &quot;&quot; + new Date().getSeconds())}</td>
	<td>datetime</td>
</tr>
<tr>
	<td>type</td>
	<td>id=newChannelName</td>
	<td></td>
</tr>
<!--Create new test channel appending datetime to the name-->
<tr>
	<td>type</td>
	<td>id=newChannelName</td>
	<td>Notify-${datetime}</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=form.form-horizontal &gt; div.modal-footer &gt; button.btn.btn-primary</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=form.form-horizontal &gt; div.modal-footer &gt; button.btn.btn-primary</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=strong.heading</td>
	<td>Notify-${datetime}</td>
</tr>
<!--Add test7 to new channel-->
<tr>
	<td>waitForElementPresent</td>
	<td>//div[@id='channelIntro']/button</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//div[@id='channelIntro']/button</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>//div[@id=&quot;selectItems&quot;]//*/input</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>//div[@id=&quot;selectItems&quot;]//*/input</td>
	<td>test7</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.more-modal__name</td>
	<td>@test7</td>
</tr>
<tr>
	<td>click</td>
	<td>css=div.more-modal__name</td>
	<td>@test7</td>
</tr>
<tr>
	<td>waitForNotText</td>
	<td>css=div.more-modal__name</td>
	<td>@test7</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=saveItems</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=saveItems</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>test7 added to the channel</td>
	<td></td>
</tr>
<!--*** Visually verify in other browser that test7 has mention & unread-->
<!--***  in test7 browser, view channel to clear, switch to Town Square-->
<!--*** Click back to Se browser-->
<tr>
	<td>pause</td>
	<td>10000</td>
	<td></td>
</tr>
<!--Code block using triple ticks (there are also newlines in the value)-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>```<br />@here<br />```${KEY_ENTER}</td>
</tr>
<!--*** Visually verify code block (across center channel, not just the length of the word)-->
<!--*** Visually verify test7 does not get a mention badge (just unread)-->
<tr>
	<td>pause</td>
	<td>3000</td>
	<td></td>
</tr>
<!--Code block using ~~~   ~~~-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>~~~<br />@here<br />~~~${KEY_ENTER}</td>
</tr>
<!--*** Visually verify code block (across center channel, not just the length of the word)-->
<!--*** Visually verify test7 does not get a mention badge on Off-Topic (just unread)-->
<tr>
	<td>pause</td>
	<td>3000</td>
	<td></td>
</tr>
<!--Code block using four spaces-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>&nbsp;&nbsp;&nbsp;&nbsp;@here${KEY_ENTER}</td>
</tr>
<!--*** Visually verify code block (across center channel, not just the length of the word)-->
<!--*** Visually verify test7 does not get a mention badge (just unread)-->
<tr>
	<td>pause</td>
	<td>3000</td>
	<td></td>
</tr>
<!--At-here received while online-->
<!--*** Ensure test7 shows as online, not away (click over to that browser and back if needed)-->
<!--*** Can also click channel to clear unreads, but be sure to click back to a different channel-->
<tr>
	<td>pause</td>
	<td>3000</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>Here's a message for everyone in the channel who is @here!${KEY_ENTER}</td>
</tr>
<!--*** Visually verify mention badge, click to view and verify -->
<!--*** only the actual at-here is highlighted. Click back to Town Square-->
<tr>
	<td>pause</td>
	<td>8000</td>
	<td></td>
</tr>
<!--Disable channel-wide mentions on test7's account-->
<!--LOG OUT test6-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=#logout &gt; button.style--none</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=#logout &gt; button.style--none</td>
	<td></td>
</tr>
<!--LOG IN test7-->
<!--DisableAnimations-->
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.btn.btn-primary</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>name=loginId</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>name=loginId</td>
	<td>test7@test.com</td>
</tr>
<tr>
	<td>type</td>
	<td>name=password</td>
	<td>passwd</td>
</tr>
<tr>
	<td>click</td>
	<td>id=loginButton</td>
	<td></td>
</tr>
<tr>
	<td>rollup</td>
	<td>openChannel</td>
	<td>ChannelName=Town Square</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=strong.heading</td>
	<td>Town Square</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=#accountSettings &gt; button.style--none.</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=#accountSettings &gt; button.style--none.</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=notificationsButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=notificationsButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=keysEdit</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=keysEdit</td>
	<td></td>
</tr>
<!--May need to add a test here for first/last name (not visible when null)-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=notificationTriggerShouts</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=notificationTriggerShouts</td>
	<td></td>
</tr>
<tr>
	<td>waitForValue</td>
	<td>id=notificationTriggerShouts</td>
	<td>off</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=keysDesc</td>
	<td>&quot;@test7&quot;, &quot;test7&quot;</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=#accountSettingsHeader &gt; button.close</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=#accountSettingsHeader &gt; button.close</td>
	<td></td>
</tr>
<!--*** After the setting is changed, refresh other browser window -->
<!--*** where test7 is logged in. Can also clear mentions and unreads-->
<!--LOG OUT test7-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=#logout &gt; button.style--none</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=#logout &gt; button.style--none</td>
	<td></td>
</tr>
<!--LOG IN test6-->
<!--DisableAnimations-->
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.btn.btn-primary</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>name=loginId</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>name=loginId</td>
	<td>test6@test.com</td>
</tr>
<tr>
	<td>type</td>
	<td>name=password</td>
	<td>passwd</td>
</tr>
<tr>
	<td>click</td>
	<td>id=loginButton</td>
	<td></td>
</tr>
<!--Channel-wide mentions on test7's account don't trigger mention badges (just unreads)-->
<!--*** Watch LHS in other browser: unread, no mention badge-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>@here shouldn't trigger a mention this time${KEY_ENTER}</td>
</tr>
<tr>
	<td>pause</td>
	<td>2000</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>nor should @channel${KEY_ENTER}</td>
</tr>
<tr>
	<td>pause</td>
	<td>2000</td>
	<td></td>
</tr>
<!--*** Watch LHS in other browser: no mention badge-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>and, lastly, @all should not trigger a mention either${KEY_ENTER}</td>
</tr>
<!--*** Watch LHS in other browser: no mention badge-->
<!--*** Visually verify all three channel-wide mentions posted, and no badges for test7-->
<tr>
	<td>pause</td>
	<td>4000</td>
	<td></td>
</tr>
<!--Log back in as test7 to re-enable channel-wide mentions and set status to away-->
<!--LOG OUT test6-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=#logout &gt; button.style--none</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=#logout &gt; button.style--none</td>
	<td></td>
</tr>
<!--LOG IN test7-->
<!--DisableAnimations-->
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.btn.btn-primary</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>name=loginId</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>name=loginId</td>
	<td>test7@test.com</td>
</tr>
<tr>
	<td>type</td>
	<td>name=password</td>
	<td>passwd</td>
</tr>
<tr>
	<td>click</td>
	<td>id=loginButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=strong.heading</td>
	<td>Town Square</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=#accountSettings &gt; button.style--none.</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=#accountSettings &gt; button.style--none.</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=notificationsButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=notificationsButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=keysEdit</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=keysEdit</td>
	<td></td>
</tr>
<!--Re-enable channel-wide mentions-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=notificationTriggerShouts</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=notificationTriggerShouts</td>
	<td></td>
</tr>
<tr>
	<td>waitForValue</td>
	<td>id=notificationTriggerShouts</td>
	<td>on</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<!--Set desktop notifications to mentions and DMs-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=desktopEdit</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=desktopEdit</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=desktopNotificationMentions</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=desktopNotificationMentions</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=#desktopDesc &gt; span</td>
	<td>For mentions and direct messages*</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=#accountSettingsHeader &gt; button.close</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=#accountSettingsHeader &gt; button.close</td>
	<td></td>
</tr>
<!--Set status to away-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>/away${KEY_ENTER}</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=path.away--icon</td>
	<td></td>
</tr>
<!--*** Make sure other browser shows test7 away, and not viewing Notify- channel-->
<!--LOG OUT test7-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=#logout &gt; button.style--none</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=#logout &gt; button.style--none</td>
	<td></td>
</tr>
<!--LOG IN test6-->
<!--DisableAnimations-->
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.btn.btn-primary</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>name=loginId</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>name=loginId</td>
	<td>test6@test.com</td>
</tr>
<tr>
	<td>type</td>
	<td>name=password</td>
	<td>passwd</td>
</tr>
<tr>
	<td>click</td>
	<td>id=loginButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=Notify-${datetime}</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>link=Notify-${datetime}</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>Notify-${datetime}</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=channelHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>If you're away, you should not receive a mention notification for @here${KEY_ENTER}</td>
</tr>
<!--*** Visually verify no mention badge appears on other browser (just boldface unread)-->
<tr>
	<td>pause</td>
	<td>3000</td>
	<td></td>
</tr>
<!--Back to test7 to set status to online and verify settings-->
<!--LOG OUT test6-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=#logout &gt; button.style--none</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=#logout &gt; button.style--none</td>
	<td></td>
</tr>
<!--LOG IN test7-->
<!--DisableAnimations-->
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.btn.btn-primary</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>name=loginId</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>name=loginId</td>
	<td>test7@test.com</td>
</tr>
<tr>
	<td>type</td>
	<td>name=password</td>
	<td>passwd</td>
</tr>
<tr>
	<td>click</td>
	<td>id=loginButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=strong.heading</td>
	<td>Town Square</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.btn.btn-primary span:contains('Yes, set my status to &quot;Online&quot;')</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=button.btn.btn-primary span:contains('Yes, set my status to &quot;Online&quot;')</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=svg &gt; path.online--icon</td>
	<td></td>
</tr>
<!--Switch back to test6 to post an at-here in a channel that test7 is not in-->
<!--LOG OUT test7-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=#logout &gt; button.style--none</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=#logout &gt; button.style--none</td>
	<td></td>
</tr>
<!--LOG IN test6-->
<!--DisableAnimations-->
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.btn.btn-primary</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>name=loginId</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>name=loginId</td>
	<td>test6@test.com</td>
</tr>
<tr>
	<td>type</td>
	<td>name=password</td>
	<td>passwd</td>
</tr>
<tr>
	<td>click</td>
	<td>id=loginButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<!--Create new private channel (and don't invite test7)-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=createPrivateChannel</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=createPrivateChannel</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=newChannelName</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=newChannelName</td>
	<td>Test6Private</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=form.form-horizontal &gt; div.modal-footer &gt; button.btn.btn-primary</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=form.form-horizontal &gt; div.modal-footer &gt; button.btn.btn-primary</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>Test6Private</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>@here hihi${KEY_ENTER}</td>
</tr>
<!--*** Verify test7 doesn't see any sort of notification or mention or unread-->
<tr>
	<td>pause</td>
	<td>3000</td>
	<td></td>
</tr>
<!--Add test7 to the private channel-->
<tr>
	<td>waitForText</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>Test6Private</td>
</tr>
<tr>
	<td>click</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>Test6Private</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=#channelAddMembers &gt; button.style--none.</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=#channelAddMembers &gt; button.style--none.</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>//div[@id=&quot;selectItems&quot;]//*/input</td>
	<td>test7</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.more-modal__name</td>
	<td>@test7</td>
</tr>
<tr>
	<td>click</td>
	<td>css=div.more-modal__name</td>
	<td>@test7</td>
</tr>
<tr>
	<td>waitForNotText</td>
	<td>css=div.more-modal__name</td>
	<td>@test7</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=saveItems</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=saveItems</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=member_popover</td>
	<td>2</td>
</tr>
<!--*** Visually verify in other browser that test7 has been added to channel-->
<!--*** And shows mention jewel on the private channel they were added to-->
<!--*** Manually click into private channel to mark read, then click back to Town Square-->
<tr>
	<td>pause</td>
	<td>8000</td>
	<td></td>
</tr>
<!--test6 updates the channel header including at-here-->
<!--At-all in channel header does not trigger a mention-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>/header Here's an @here in a header${KEY_ENTER}</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=p.markdown__paragraph-inline</td>
	<td>Here's an @here in a header</td>
</tr>
<!--*** Visually verify in other browser test7 did not get a mention-->
<tr>
	<td>pause</td>
	<td>4000</td>
	<td></td>
</tr>
<!--test6 updates the channel header including at-channel-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>/header ${KEY_ENTER}</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=p.markdown__paragraph-inline</td>
	<td>Here's an @here in a header</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=edit_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=edit_textbox</td>
	<td>, and also an @channel${KEY_ENTER}</td>
</tr>
<!--*** Visually verify in other browser test7 did not get a mention-->
<tr>
	<td>pause</td>
	<td>2000</td>
	<td></td>
</tr>
<!--test6 updates the channel header including at-all-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>/header All in @all this is a header${KEY_ENTER}</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=p.markdown__paragraph-inline</td>
	<td>All in @all this is a header</td>
</tr>
<!--*** Visually verify in other browser test7 did not get a mention-->
<tr>
	<td>pause</td>
	<td>2000</td>
	<td></td>
</tr>
</tbody></table>
</body>
</html>
